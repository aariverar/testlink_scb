<VirtualHost *:80>
    DocumentRoot /var/www/html
    ServerName testlink-scb.railway.app
    
    # Configuración básica para Railway
    <Directory /var/www/html>
        Options Indexes FollowSymLinks
        AllowOverride All
        Require all granted
        DirectoryIndex index.php health.php index.html
    </Directory>

    # Configurar PHP para TestLink
    <IfModule mod_php.c>
        php_value memory_limit 256M
        php_value upload_max_filesize 100M
        php_value post_max_size 100M
        php_value max_execution_time 300
        php_value max_input_time 300
    </IfModule>

    # Health check endpoint
    <Location "/health.php">
        Require all granted
    </Location>

    # Logs simplificados para Railway
    ErrorLog /dev/stderr
    CustomLog /dev/stdout combined

    # Seguridad básica
    <Directory /var/www/html/logs>
        Require all denied
    </Directory>
</VirtualHost>